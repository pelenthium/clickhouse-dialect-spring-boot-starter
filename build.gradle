plugins {
    id 'nebula.release' version '15.3.1'
    id 'nebula.source-jar' version '17.3.0'
    id 'nebula.javadoc-jar' version '17.3.0'
    id 'nebula.maven-publish' version '17.3.0'
    id 'nebula.maven-manifest' version '17.3.0'
    id 'nebula.maven-scm' version '17.3.0'
    id 'nebula.maven-developer' version '17.3.0'
    id 'nebula.publish-verification' version '17.3.0'
    id 'nebula.oss-publishing' version '2.0.0'
    id 'org.ajoberstar.grgit' version  '1.7.1'
}

apply plugin: 'java'
apply plugin: 'nebula.release'
apply plugin: 'nebula.source-jar'
apply plugin: 'nebula.javadoc-jar'
apply plugin: 'nebula.maven-publish'
apply plugin: 'nebula.maven-manifest'
apply plugin: 'nebula.maven-scm'
apply plugin: 'nebula.info'
apply plugin: 'nebula.maven-developer'
apply plugin: 'nebula.contacts'
apply plugin: 'nebula.publish-verification'
apply plugin: 'nebula.oss-publishing'

contacts {
    'pelenthium@gmail.com' {
        moniker 'Sergei Lugovoi'
        github 'pelenthium'
    }
}

group = 'io.github.pelenthium'
archivesBaseName="clickhouse-dialect-spring-boot-starter"
sourceCompatibility = 1.8
targetCompatibility = 1.8

repositories {
    mavenLocal()
    mavenCentral()
}

dependencies {
    compile "org.springframework.boot:spring-boot:${springVersion}"
    compile "org.springframework.boot:spring-boot-starter-data-jdbc:${springVersion}"
}

nebulaOssPublishing {
    netflixOssRepositoryBaseUrl = "https://s01.oss.sonatype.org/service/local/staging/deploy/maven2/"
    netflixOssRepository = "my-releases"
    netflixOssUsername = findProperty('ossrhUsername')?ossrhUsername:''
    netflixOssPassword = findProperty('ossrhPassword')?ossrhPassword:''
    signingKey=findProperty('sKey')?sKey:''
    signingPassword=findProperty('sPassword')?sPassword:''
}
